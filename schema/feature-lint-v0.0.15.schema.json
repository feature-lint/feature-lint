{"$schema":"http://json-schema.org/draft-07/schema#","$ref":"#/definitions/feature-lint","definitions":{"feature-lint":{"type":"object","properties":{"$schema":{"type":"string"},"rootDir":{"type":"string","minLength":1},"featuresDirName":{"type":"string","minLength":1},"defaultFeatureType":{"type":"string","minLength":1},"featureTypes":{"anyOf":[{"type":"array","items":{"type":"object","properties":{"buildingBlocks":{"anyOf":[{"type":"array","items":{"anyOf":[{"type":"object","properties":{"rules":{"type":"array","items":{"anyOf":[{"anyOf":[{"anyOf":[{"type":"object","properties":{"name":{"type":"string","const":"dependencies"},"criteria":{"type":"array","items":{"anyOf":[{"type":"object","properties":{"type":{"type":"string","enum":["allow","deny"]},"buildingBlock":{"anyOf":[{"type":"array","items":{"type":"string"}},{"type":"string"},{"type":"string","const":"*"}]},"featureType":{"anyOf":[{"type":"array","items":{"type":"string"}},{"type":"string"},{"type":"string","const":"*"},{"type":"string","const":"&"}]},"feature":{"anyOf":[{"type":"array","items":{"type":"string"}},{"type":"string"},{"type":"string","const":"*"},{"type":"string","const":"&"}]}},"additionalProperties":false},{"type":"string"}]}}},"additionalProperties":false,"required":["name","criteria"]},{"type":"object","properties":{"name":{"type":"string","const":"dependents"},"criteria":{"type":"array","items":{"$ref":"#/definitions/feature-lint/properties/featureTypes/anyOf/0/items/properties/buildingBlocks/anyOf/0/items/anyOf/0/properties/rules/items/anyOf/0/anyOf/0/anyOf/0/properties/criteria/items"}}},"additionalProperties":false,"required":["name","criteria"]}]},{"type":"object","properties":{"name":{"type":"string","const":"max-modules-per-building-block"},"max":{"type":"number","minimum":1}},"additionalProperties":false,"required":["name","max"]}]},{"type":"object","properties":{"name":{"type":"string","const":"restricted-external-modules"},"criteria":{"type":"array","items":{"type":"string"}}},"additionalProperties":false,"required":["name","criteria"]}]}},"name":{"type":"string","minLength":1}},"additionalProperties":false,"required":["name"]},{"$ref":"#/definitions/feature-lint/properties/featureTypes/anyOf/0/items/properties/buildingBlocks/anyOf/0/items/anyOf/0/properties/name"}]}},{"type":"object","additionalProperties":{"type":"object","properties":{"rules":{"$ref":"#/definitions/feature-lint/properties/featureTypes/anyOf/0/items/properties/buildingBlocks/anyOf/0/items/anyOf/0/properties/rules"}},"additionalProperties":false}}]},"featureNameMatcher":{"type":"string"},"rules":{"type":"array","items":{"anyOf":[{"anyOf":[{"anyOf":[{"$ref":"#/definitions/feature-lint/properties/featureTypes/anyOf/0/items/properties/buildingBlocks/anyOf/0/items/anyOf/0/properties/rules/items/anyOf/0/anyOf/0/anyOf/0"},{"$ref":"#/definitions/feature-lint/properties/featureTypes/anyOf/0/items/properties/buildingBlocks/anyOf/0/items/anyOf/0/properties/rules/items/anyOf/0/anyOf/0/anyOf/1"}]},{"$ref":"#/definitions/feature-lint/properties/featureTypes/anyOf/0/items/properties/buildingBlocks/anyOf/0/items/anyOf/0/properties/rules/items/anyOf/0/anyOf/1"}]},{"$ref":"#/definitions/feature-lint/properties/featureTypes/anyOf/0/items/properties/buildingBlocks/anyOf/0/items/anyOf/0/properties/rules/items/anyOf/1"}]}},"name":{"$ref":"#/definitions/feature-lint/properties/defaultFeatureType"}},"additionalProperties":false,"required":["name"]}},{"type":"object","additionalProperties":{"type":"object","properties":{"buildingBlocks":{"$ref":"#/definitions/feature-lint/properties/featureTypes/anyOf/0/items/properties/buildingBlocks"},"featureNameMatcher":{"$ref":"#/definitions/feature-lint/properties/featureTypes/anyOf/0/items/properties/featureNameMatcher"},"rules":{"$ref":"#/definitions/feature-lint/properties/featureTypes/anyOf/0/items/properties/rules"}},"additionalProperties":false}}]},"rules":{"type":"array","items":{"anyOf":[{"anyOf":[{"anyOf":[{"anyOf":[{"anyOf":[{"anyOf":[{"anyOf":[{"anyOf":[{"anyOf":[{"anyOf":[{"$ref":"#/definitions/feature-lint/properties/featureTypes/anyOf/0/items/properties/buildingBlocks/anyOf/0/items/anyOf/0/properties/rules/items/anyOf/0/anyOf/0/anyOf/0"},{"$ref":"#/definitions/feature-lint/properties/featureTypes/anyOf/0/items/properties/buildingBlocks/anyOf/0/items/anyOf/0/properties/rules/items/anyOf/0/anyOf/0/anyOf/1"}]},{"$ref":"#/definitions/feature-lint/properties/featureTypes/anyOf/0/items/properties/buildingBlocks/anyOf/0/items/anyOf/0/properties/rules/items/anyOf/0/anyOf/1"}]},{"type":"object","properties":{"name":{"type":"string","const":"no-ancestor-feature-dependency"},"enabled":{"type":"boolean"}},"additionalProperties":false,"required":["name","enabled"]}]},{"type":"object","properties":{"name":{"type":"string","const":"no-cyclic-feature-dependency"},"enabled":{"type":"boolean"}},"additionalProperties":false,"required":["name","enabled"]}]},{"type":"object","properties":{"name":{"type":"string","const":"no-missing-feature-types"},"enabled":{"type":"boolean"}},"additionalProperties":false,"required":["name","enabled"]}]},{"type":"object","properties":{"name":{"type":"string","const":"no-unknown-building-blocks"},"enabled":{"type":"boolean"}},"additionalProperties":false,"required":["name","enabled"]}]},{"type":"object","properties":{"name":{"type":"string","const":"no-unknown-feature-types"},"enabled":{"type":"boolean"}},"additionalProperties":false,"required":["name","enabled"]}]},{"$ref":"#/definitions/feature-lint/properties/featureTypes/anyOf/0/items/properties/buildingBlocks/anyOf/0/items/anyOf/0/properties/rules/items/anyOf/1"}]},{"type":"object","properties":{"name":{"type":"string","const":"restricted-visibility"},"enabled":{"type":"boolean"}},"additionalProperties":false,"required":["name","enabled"]}]},{"type":"object","properties":{"name":{"type":"string","const":"wrong-feature-type-match"},"enabled":{"type":"boolean"}},"additionalProperties":false,"required":["name","enabled"]}]}}},"additionalProperties":false}}}